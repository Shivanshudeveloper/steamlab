(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3678)}])},3678:function(e,n,t){"use strict";t.r(n);var r=t(8520),i=t.n(r),o=t(5893),c=t(7294),a=t(7906),l=t(295),s=t(3252),u=t(2882),d=t(3184),h=t(3816),f=t(5113),p=t(4257),x=t(6798),g=t(657),j=t(1425),m=t(6580),y=t(7645),v=t(7948),Z=t(6614),b=t(5162),w=t(5934),S=t(9123),F=t(2088);function k(e,n,t,r,i,o,c){try{var a=e[o](c),l=a.value}catch(s){return void t(s)}a.done?n(l):Promise.resolve(l).then(r,i)}function O(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function c(e){k(o,r,i,c,a,"next",e)}function a(e){k(o,r,i,c,a,"throw",e)}c(void 0)}))}}function T(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){T(e,n,t[n])}))}return e}function D(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(t.push(c.value),!n||t.length!==n);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.default=function(){var e=(0,b.uI)(),n=e.acceptedFiles,t=e.getRootProps,r=e.getInputProps,k=D(c.useState(!1),2),T=k[0],P=k[1],E=D(c.useState((new Date).toLocaleDateString()),2),N=E[0],W=E[1],A=function(){P(!1)},L=n.map((function(e){return(0,o.jsxs)("li",{children:[e.path," - ",e.size," bytes"]},e.path)})),z=D(c.useState(""),2),R=z[0],U=z[1],q=D(c.useState([]),2),I=q[0],M=q[1],X=D(c.useState(!1),2),B=X[0],H=X[1],G=D(c.useState(""),2),J=G[0],K=G[1],Q=(O(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.tO.ref("/files/".concat(n)).getDownloadURL();case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),O(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("clicked"),e.next=4,F.tO.ref("/files/".concat(n)).getDownloadURL();case 4:t=e.sent,window.open(t,"_blank").focus(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x.Z,{open:B,autoHideDuration:6e3,message:J,onClose:function(){H(!1)}}),(0,o.jsxs)(g.Z,{open:T,fullWidth:!0,maxWidth:"md",onClose:A,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,o.jsx)(y.Z,{id:"alert-dialog-title",children:"STL File Upload"}),(0,o.jsx)(m.Z,{children:(0,o.jsxs)(v.Z,{children:[(0,o.jsxs)("section",{className:"dropzone",children:[(0,o.jsxs)("div",C({},t({className:"dsdsd"}),{children:[(0,o.jsx)("input",C({},r())),(0,o.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]})),(0,o.jsxs)("aside",{children:[(0,o.jsx)("h4",{children:"Files"}),(0,o.jsx)("ul",{children:L})]})]}),(0,o.jsx)("h4",{style:{marginTop:"1rem"},children:"When do you need it?"}),(0,o.jsx)(Z.Z,{id:"outlined-multiline-static",fullWidth:!0,multiline:!0,rows:6,sx:{mt:2},value:R,onChange:function(e){U(e.target.value)}}),(0,o.jsx)("h4",{style:{marginTop:"1rem"},children:"When do you need it?"}),(0,o.jsx)(Z.Z,{required:!0,id:"outlined-required",type:"date",fullWidth:!0,sx:{mt:2},onChange:function(e){W(e.target.value)}}),(0,o.jsx)("h4",{style:{marginTop:"1rem"},children:"Phone Number"}),(0,o.jsx)(Z.Z,{required:!0,id:"outlined-required",fullWidth:!0,sx:{mt:2}})]})}),(0,o.jsxs)(j.Z,{children:[(0,o.jsx)(p.Z,{size:"large",sx:{color:"#FFFFFF"},onClick:A,children:"Close"}),(0,o.jsx)(p.Z,{size:"large",sx:{backgroundColor:"#141720",color:"#FFFFFF"},onClick:function(){n.forEach((function(e){var n=(0,w.Z)(),t=F.tO.ref("uploadsfiles/".concat(n,"/").concat(e.name)).put(e);t.on("state_changed",(function(e){var n=Math.round(e.bytesTransferred/e.totalBytes*100);H(!0),K("Uploaded ".concat(Math.floor(n),"%"))}),(function(e){K(e)}),O(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.snapshot.ref.getDownloadURL();case 2:r.sent,"".concat(n,"/").concat(e.name),"".concat(e.name);case 5:case"end":return r.stop()}}),r)}))))}));var e=_(I);for(n.forEach((function(n){var t,r,i,o,c=(0,S.Z)(n.size);c="".concat(c.value," ").concat(c.unit),e.push((t=n.path,r=c,i=n.type,o=(new Date).toLocaleDateString(),{name:t,cut:r,contentType:i,uploadedTo:o,status:"Pending",desiredReception:R,date:N}))})),M(e);n.length>0;)n.pop();U(""),A()},autoFocus:!0,children:"Submit"})]})]}),(0,o.jsx)(p.Z,{sx:{float:"right",mb:8,mt:5},onClick:function(){P(!0)},variant:"contained",size:"large",children:"Submit a STL File"}),(0,o.jsx)("h1",{style:{marginTop:"45px"},children:"Shipment history"}),(0,o.jsx)(u.Z,{component:f.Z,children:(0,o.jsxs)(a.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,o.jsx)(d.Z,{children:(0,o.jsxs)(h.Z,{children:[(0,o.jsx)(s.Z,{children:"Name"}),(0,o.jsx)(s.Z,{align:"center",children:"Cut"}),(0,o.jsx)(s.Z,{align:"center",children:"Content type"}),(0,o.jsx)(s.Z,{align:"center",children:"Uploaded to"}),(0,o.jsx)(s.Z,{align:"center",children:"Status"}),(0,o.jsx)(s.Z,{align:"center",children:"Desired reception"}),(0,o.jsx)(s.Z,{align:"center",children:"Delivery date"}),(0,o.jsx)(s.Z,{align:"center",children:"Download"})]})}),(0,o.jsx)(l.Z,{children:I.map((function(e){return(0,o.jsxs)(h.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,o.jsx)(s.Z,{component:"th",scope:"row",children:e.name}),(0,o.jsx)(s.Z,{align:"center",children:e.cut}),(0,o.jsx)(s.Z,{align:"center",children:e.contentType}),(0,o.jsx)(s.Z,{align:"center",children:e.uploadedTo}),(0,o.jsx)(s.Z,{align:"center",children:e.status}),(0,o.jsx)(s.Z,{align:"center",children:e.desiredReception}),(0,o.jsx)(s.Z,{align:"center",children:e.date}),(0,o.jsx)(s.Z,{align:"center",children:(0,o.jsx)(p.Z,{variant:"contained",onClick:function(){Q(e.name)},children:"Download"})})]},e.name)}))})]})})]})}}},function(e){e.O(0,[614,57,774,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);